<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cadastro de Falta - GERENCIAL HS</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <a class="back-button show" href="./index.html">Voltar à Home</a>

  <img src="./logo.png" alt="Logo" class="logo-topo"/>

  <div class="form-container">
    <h1>Cadastro de Falta</h1>

    <!-- FILIAL -->
    <div class="form-group">
      <label for="filialFalta" class="question-title">Filial</label>
      <select id="filialFalta" name="filial" required>
        <option value="">Selecione uma filial</option>
        <option value="ARTUR">ARTUR</option>
        <option value="FLORIANO">FLORIANO</option>
        <option value="JOTA">JOTA</option>
        <option value="MODA">MODA</option>
        <option value="PONTO">PONTO</option>
      </select>
    </div>

    <!-- FUNCIONÁRIO -->
    <div class="form-group">
      <label for="funcionarioFalta" class="question-title">Funcionário</label>
      <select id="funcionarioFalta" name="funcionario" required>
        <option value="">Selecione a filial primeiro</option>
      </select>
    </div>

    <!-- DATA DA FALTA -->
    <div class="form-group">
      <label for="dataFalta" class="question-title">Data da Falta</label>
      <input type="date" id="dataFalta" name="data_falta" required/>
    </div>

    <!-- RAZÃO -->
    <div class="form-group">
      <label for="razaoFalta" class="question-title">Razão</label>
      <select id="razaoFalta" name="razao" required>
        <option value="">Selecione</option>
        <option>ATESTADO MÉDICO</option>
        <option>FALTA JUSTIFICADA</option>
        <option>FALTA INJUSTIFICADA</option>
      </select>
    </div>

    <!-- DIAS AFASTAMENTO (opcional, se atestado) -->
    <div class="form-group">
      <label for="diasAfastamento" class="question-title">Dias de afastamento (caso atestado)</label>
      <input id="diasAfastamento" name="dias_afastamento" type="number" min="0" step="1" placeholder="Opcional"/>
    </div>

    <div class="submit-buttons">
      <button id="enviarFalta" type="button" class="submit-button">Enviar</button>
      <button id="limparFalta" type="button" class="clear-button">Limpar</button>
    </div>
  </div>

  <!-- IMPORTANTE: carrega as funções que populam funcionários e enviam o formulário -->
  <script src="./script.js"></script>
  <!-- Fallback leve (caso o script.js não defina setupFaltaPage) -->
  <script>
    if (typeof window.setupFaltaPage === "function") {
      window.setupFaltaPage({
        filialSelect: "#filialFalta",
        funcionarioSelect: "#funcionarioFalta",
        submitBtn: "#enviarFalta",
        clearBtn: "#limparFalta",
        fields: {
          dataFalta: "#dataFalta",
          razao: "#razaoFalta",
          diasAfastamento: "#diasAfastamento"
        }
      });
    }
  </script>
</body>
</html>
